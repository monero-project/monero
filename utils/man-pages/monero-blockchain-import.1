'\" t
.\" Automatically generated by Pandoc 2.18
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "monero-blockchain-import" "1" "2022-06-30" "" ""
.hy
.SH NAME
.PP
monero-blockchain-import - import Monero\[cq]s \f[V]blockchain.raw\f[R]
to your full node.
.SH SYNOPSIS
.PP
\f[V]./monero-blockchain-import [options]\f[R]
.PP
Example:
.PP
\f[V]./monero-blockchain-import --help\f[R]
.PP
Go to directory where you unpacked Monero, and run:
.PP
\f[V]./monero-blockchain-import --stagenet --output-file=/tmp/blockchain.raw\f[R]
.SH DESCRIPTION
.PP
This could be useful if you want to decouple download from verification
for any reason (like testing performance in isolation).
In this case, you may download the \f[V]blockchain.raw\f[R] file from
<https://downloads.getmonero.org/blockchain.raw>.
.PP
Ideally though, you should use your own trusted \f[V]blockchain.raw\f[R]
file that you exported earlier.
.PP
Please note that importing \f[V]blockchain.raw\f[R] will \f[B]not\f[R]
speed up the process over syncing up from p2p network.
This is because usual bottlenecks are disk IO and verification, not the
download.
.PP
The tool works on your local files.
It does not require \f[V]monerod\f[R] running.
.SS Help
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--help\f[R]
T}@T{
Enlist available options.
T}
.TE
.SS Pick network
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
(missing)
T}@T{
By default \f[V]monero-blockchain-import\f[R] assumes the mainnet
blockchain.
T}
T{
\f[V]--stagenet\f[R]
T}@T{
Import stagenet blockchain.
T}
T{
\f[V]--testnet\f[R]
T}@T{
Import testnet blockchain.
T}
.TE
.SS Logging
.PP
Specifying the log file path is not supported.
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--log-level\f[R]
T}@T{
\f[V]0-4\f[R] with \f[V]0\f[R] being minimal logging and \f[V]4\f[R]
being full tracing.
Defaults to \f[V]0\f[R].
These are general presets and do not directly map to severity levels.
For example, even with minimal \f[V]0\f[R], you may see some most
important \f[V]INFO\f[R] entries.
Example:
T}
T{
T}@T{
\f[V]./monero-blockchain-import --log-level=1\f[R]
T}
.TE
.SS Input
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--input-file\f[R]
T}@T{
Full path to raw blockchain file.
The default is \f[V]$DATA_DIR/export/blockchain.raw\f[R].
T}
T{
\f[V]--block-stop\f[R]
T}@T{
Only import up to this block height.
By default import all blocks (value \f[V]0\f[R]).
T}
T{
\f[V]--pop-blocks\f[R]
T}@T{
Discard specified number of blocks from the tip of the bootstrapped
blockchain.
By default don\[cq]t discard anything (value \f[V]0\f[R]).
T}
.TE
.SS Output
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--data-dir\f[R]
T}@T{
Full path to data directory.
This is where the blockchain, log files, and p2p network memory are
stored.
For defaults and details see data directory.
T}
T{
\f[V]--count-blocks\f[R]
T}@T{
Count blocks in the bootstrap file and exit.
T}
T{
\f[V]--drop-hard-fork\f[R]
T}@T{
Whether to drop hard fork data.
Off by default (\f[V]0\f[R]).
T}
T{
\f[V]--database\f[R]
T}@T{
The only valid value seems to be \f[V]lmdb\f[R] (the default).
T}
.TE
.SS Performance
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--dangerous-unverified-import\f[R]
T}@T{
The safe default is to run verification (value \f[V]0\f[R]).
You can enable \f[V]--dangerous-unverified-import\f[R] if you are
importing from your own and trusted blockchain.raw (which we assume was
already verified).
The \[lq]dangerous\[rq] mode will greatly speed up the process.
T}
T{
\f[V]--batch\f[R]
T}@T{
Whether to save to disk on an ongoing basis (the default, value
\f[V]1\f[R]) or maybe do everything in RAM and save everything in the
end (value \f[V]0\f[R]).
No batching is only effective in combination with no verification
(\f[V]--dangerous-unverified-import\f[R]).
See also \f[V]--batch-size\f[R].
T}
T{
\f[V]--batch-size\f[R]
T}@T{
How often to save to disk expressed in number of blocks.
By default save every \f[V]5000\f[R] blocks (when verifying) or every
\f[V]20000\f[R] blocks (when not verifying).
Big batches are faster but require more RAM.
T}
T{
\f[V]--resume\f[R]
T}@T{
Resume from current height if output database already exists (the
default, value \f[V]1\f[R]).
Changing to \f[V]--resume=0\f[R] doesn\[cq]t change much \[em] existing
blocks are skipped pretty quickly and the process is resumed anyway.
T}
.TE
.SH REFERENCE
.IP \[bu] 2
<https://github.com/monero-project/monero/tree/master/src/blockchain_utilities>
.SH SEE ALSO
.PP
Link to full documentation at:
<https://monerodocs.org/interacting/monero-blockchain-import-reference/>
.PP
monero-blockchain-export(1), monerod(1), monero-wallet-cli(1),
monero-wallet-rpc(1), monero-wallet-gui(1)
