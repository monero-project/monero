'\" t
.\" Automatically generated by Pandoc 2.18
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "monero-wallet-cli" "1" "2022-06-30" "" ""
.hy
.SH NAME
.PP
monero-wallet-cli - Monero command-line wallet.
.SH SYNOPSIS
.PP
\f[V]./monero-wallet-cli [options] [command]\f[R]
.PP
Example:
.PP
\f[V]./monero-wallet-cli --stagenet\f[R]
.SH DESCRIPTION
.SS Command line wallet
.PP
The \[lq]official\[rq] command line wallet for Monero.
Available for Linux, macOS and Windows.
.PP
Wallet uses your private keys to understand your total balance,
transactions history, and to facilitate creating transactions.
.PP
However, wallet does not store the blockchain and does not directly
participate in the p2p network.
.PP
The CLI wallet is the most reliable and most feature complete wallet for
Monero.
.SS Depends on the full node
.PP
Wallet connects to a full node to scan the blockchain for your
transaction outputs and to send your transactions out to the network.
.PP
The full node can be either local (same computer) or remote.
.PP
Normally, you run the full node on the same computer as wallet (or
within your home network).
.PP
Connection happens over HTTP and uses this
API (https://www.getmonero.org/resources/developer-guides/wallet-rpc.html).
.PP
Any transaction leaving the wallet is already blinded by all Monero
privacy features.
This means plain text HTTP communication isn\[cq]t an issue on its own
even if you connect to a remote node.
.PP
However, connecting to a remote node has other nuanced trade-offs, which
is a topic for a separate article.
.SS Running
.PP
Go to directory where you unpacked Monero.
.PP
Run the full node and wait until it syncs up with the network (may take
up to a few days):
.PP
\f[V]./monerod --stagenet\f[R]
.PP
In a separate terminal window, run the wallet:
.PP
\f[V]./monero-wallet-cli --stagenet --generate-new-wallet MoneroExampleStagenetWallet\f[R]
.SS Help and version
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--help\f[R]
T}@T{
Enlist available options.
T}
T{
\f[V]--version\f[R]
T}@T{
Show \f[V]monero-wallet-cli\f[R] version to stdout.
Example:
T}
T{
T}@T{
\f[V]Monero \[aq]Boron Butterfly\[aq] (v0.14.0.0-release)\f[R]
T}
.TE
.SS Pick network
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
(missing)
T}@T{
By default wallet assumes mainnet.
T}
T{
\f[V]--stagenet\f[R]
T}@T{
Run on stagenet.
Remember to run your daemon with \f[V]--stagenet\f[R] as well.
T}
T{
\f[V]--testnet\f[R]
T}@T{
Run on testnet.
Remember to run your daemon with \f[V]--testnet\f[R] as well.
T}
.TE
.SS Logging
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--log-file <arg>\f[R]
T}@T{
Full path to the log file.
T}
T{
\f[V]--log-level <arg>\f[R]
T}@T{
\f[V]0-4\f[R] with \f[V]0\f[R] being minimal logging and \f[V]4\f[R]
being full tracing.
Defaults to \f[V]0\f[R].
These are general presets and do not directly map to severity levels.
For example, even with minimal \f[V]0\f[R], you may see some most
important \f[V]INFO\f[R] entries.
T}
T{
\f[V]--max-log-file-size <arg>\f[R]
T}@T{
Soft limit in bytes for the log file (=104850000 by default, which is
just under 100MB).
Once log file grows past that limit, monero creates the next log file
with a UTC timestamp postfix \f[V]-YYYY-MM-DD-HH-MM-SS\f[R].
T}
T{
T}@T{
In production deployments, you would probably prefer to use established
solutions like logrotate instead.
In that case, set \f[V]--max-log-file-size 0\f[R] to prevent monero from
managing the log files.
T}
T{
\f[V]--max-log-files <arg>\f[R]
T}@T{
Limit on the number of log files (=50 by default).
The oldest log files are removed.
In production deployments, you would probably prefer to use established
solutions like logrotate instead.
T}
.TE
.SS Full node connection
.PP
Wallet depends on a full node for all non-local operations.
The following options define how to connect to \f[V]monerod\f[R]:
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--daemon-address <arg>\f[R]
T}@T{
Use \f[V]monerod\f[R] instance at \f[V]<host>:<port>\f[R].
Example:
T}
T{
T}@T{
\f[V]./monero-wallet-cli --daemon-address monero-stagenet.exan.tech:38081 --stagenet\f[R]
T}
T{
\f[V]--daemon-host <arg>\f[R]
T}@T{
Use \f[V]monerod\f[R] instance at host \f[V]<arg>\f[R] instead of
localhost.
T}
T{
\f[V]--daemon-port <arg>\f[R]
T}@T{
Use \f[V]monerod\f[R] instance at port \f[V]<arg>\f[R] instead of 18081.
T}
T{
\f[V]--daemon-login <arg>\f[R]
T}@T{
Specify \f[V]username[:password]\f[R] for \f[V]monerod\f[R] RPC API.
It is based on HTTP Basic Auth.
Mind that connections are by default unencrypted.
Authentication only makes sense if you establish a secure connection
(maybe via Tor, or SSH tunneling, or reverse proxy w/ TLS).
T}
T{
\f[V]--trusted-daemon\f[R]
T}@T{
Enable commands and behaviors which rely on \f[V]monerod\f[R] instance
being trusted.
Default for localhost connection.
The trust in this context concerns preserving your privacy.
Only use this flag if you do control \f[V]monerod\f[R].
Trusted daemon allows for commands like \f[V]rescan_spent\f[R],
\f[V]start_mining\f[R], \f[V]import_key_images\f[R] and behaviors like
\f[B]not\f[R] warning about potential attack on transient problems with
transaction sending.
T}
T{
\f[V]--untrusted-daemon\f[R]
T}@T{
Disable commands and behaviors which rely on \f[V]monerod\f[R] instance
being trusted.
Default for a non-localhost connections.
See \f[V]--trusted-daemon\f[R] for more details.
T}
T{
\f[V]--do-not-relay\f[R]
T}@T{
The newly created transaction will not be relayed to the Monero network.
Instead it will be dumped to a file in a raw hexadecimal format.
Useful if you want to push the transaction through a gateway like
<https://xmrchain.net/rawtx>.
This may be easier to use over Tor than Monero wallet.
T}
T{
\f[V]--allow-mismatched-daemon-version\f[R]
T}@T{
Allow communicating with \f[V]monerod\f[R] that uses a different RPC
version.
T}
.TE
.SS Create new wallet
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--generate-new-wallet <arg>\f[R]
T}@T{
Create a new Monero wallet and save it to \f[V]<arg>\f[R] file.
You will be asked for a password.
The password is used to encrypt the wallet file but it is unrelated to
your master spend key or mnemonic seed.
Generate a very strong password with your password manager (\[ti]256
bits of entropy).
Example:
T}
T{
T}@T{
\f[V]./monero-wallet-cli --stagenet --generate-new-wallet $HOME/.bitmonero/stagenet/wallets/MoneroExampleStagenetWallet\f[R]
T}
T{
\f[V]--kdf-rounds <arg>\f[R]
T}@T{
Concerns encrypting the wallet file.
The wallet file is encrypted with ChaCha stream cipher.
The encryption key is derived from the user supplied password by hashing
the password with CryptoNight.
This option defines how many times the CryptoNight hashing will be
applied.
The default is \f[V]1\f[R] round of hashing.
T}
T{
T}@T{
\f[B]Recommendation:\f[R] Do not change the default value.
Instead generate a very strong wallet password with your password
manager (256 bits of entropy).
T}
.TE
.SS Open existing wallet
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--wallet-file <arg>\f[R]
T}@T{
Open existing wallet.
Example:
T}
T{
T}@T{
This is only for wallet files generated with
\f[V]monero-wallet-cli\f[R], \f[V]monero-wallet-gui\f[R], or
\f[V]monero-wallet-rpc\f[R] tools.
If you have other type of wallet then see importing options.
T}
T{
\f[V]--password <arg>\f[R]
T}@T{
Provide wallet password as a parameter instead of interactively.
Remember to escape/quote as needed.
T}
T{
T}@T{
The option also works in combination with
\f[V]--generate-new-wallet\f[R].
T}
T{
\f[V]--password-file <arg>\f[R]
T}@T{
Provide password as a file in stead of interactively.
Trailing \f[V]\[rs]n\f[R] are discarded when reading the password file.
T}
T{
T}@T{
The option also works in combination with
\f[V]--generate-new-wallet\f[R].
T}
.TE
.SS Restore wallet
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--generate-from-device <arg>\f[R]
T}@T{
Restore/generate a special wallet to work with a \f[B]hardware
device\f[R] like Ledger (https://www.ledger.com/) or
Trezor (https://trezor.io/) and save it to \f[V]<arg>\f[R] file.
Example:
T}
T{
T}@T{
See the complete guide to hardware wallet
setup (https://www.reddit.com/r/Monero/comments/8op6cp/ledger_cli_guides_requires_cli_v01220/).
T}
T{
\f[V]--generate-from-view-key <arg>\f[R]
T}@T{
Restore a view-only version of the wallet to track incoming transactions
and save it to \f[V]<arg>\f[R] file.
The wallet is created based on a \f[B]secret view key\f[R] and
\f[B]standard address\f[R].
The secret view key is meant to be pasted as hexadecimal.
T}
T{
\f[V]--generate-from-spend-key <arg>\f[R]
T}@T{
Restore a wallet from \f[B]secret spend key\f[R] and save it to
\f[V]<arg>\f[R] file.
The secret spend key is meant to be pasted as hexadecimal.
T}
T{
\f[V]--restore-deterministic-wallet\f[R]
T}@T{
Restore a wallet from \f[B]secret mnemonic seed\f[R].
Use this to restore from your 25 words backup.
T}
T{
T}@T{
You will be asked for a password to encrypt the wallet file (once
restored).
Note this is \f[B]not\f[R] a passphrase to mnemonic seed.
Mnemonic seeds generated by Monero official wallets are naked.
T}
T{
\f[V]--restore-height <arg>\f[R]
T}@T{
Only scan for transactions later than specific blockchain height.
The default is \f[V]0\f[R].
Raising the value makes wallet restoration \f[B]radically faster\f[R].
The optimal value should match the day you originally created the wallet
(but cannot be later).
The mapping between the block height and date/time is available on block
explorers like https://xmrchain.net (https://xmrchain.net/).
For instance, if you created the wallet in 2019+ use \f[V]1730000\f[R].
T}
.TE
.SS Multisig wallet
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--generate-from-multisig-keys <arg>\f[R]
T}@T{
Create a standard wallet from multisig keys.
This is useful to combine all multisig secret keys back into the
standard wallet (when you no longer need the multisig).
The wallet will then have control of the funds.
It only supports providing all secret keys even if the multisig scheme
allowed for less (only \f[V]N/N\f[R] not \f[V]N/M\f[R]).
T}
T{
\f[V]--restore-multisig-wallet\f[R]
T}@T{
Restore a multisig wallet from \f[B]secret seed\f[R] that was earlier
exported with the \f[V]seed\f[R] interactive command.
This only restores your part of the wallet.
Other multisig participants will still be necessary to sign the
transaction.
T}
.TE
.SS Config file
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--config-file <arg>\f[R]
T}@T{
Full path to the configuration file.
Note this should be a separate config than \f[V]monerod\f[R] uses
because these tools accept different set of options.
T}
.TE
.SS Performance
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--subaddress-lookahead <arg>\f[R]
T}@T{
Accepts \f[V]m:n\f[R], by default \f[V]50:200\f[R].
The first value is the number of accounts and the second value is the
number of subaddresses per account.
T}
T{
T}@T{
On the other hand the more subaddresses you set to look ahead, the
longer it takes to create your wallet, because they must be
pre-computed.
This is normally not a concern, except for hardware wallets.
On the Ledger the default value of \f[V]50:200\f[R] can take over 20
minutes (one time on wallet creation)!
T}
T{
\f[V]--max-concurrency <arg>\f[R]
T}@T{
Max number of threads to use for parallel jobs.
The default value \f[V]0\f[R] uses the number of CPU threads.
T}
.TE
.SS Internationalization
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--mnemonic-language <arg>\f[R]
T}@T{
Language for mnemonic seed words.
One of \f[V]english\f[R], \f[V]english_old\f[R], \f[V]esperanto\f[R],
\f[V]french\f[R], \f[V]german\f[R], \f[V]italian\f[R],
\f[V]japanese\f[R], \f[V]lojban\f[R], \f[V]portuguese\f[R],
\f[V]russian\f[R], \f[V]spanish\f[R].
T}
T{
T}@T{
It might be a good idea to stick to default English which is by far the
most popular and well tested.
It also avoids potential non-ASCII characters pitfalls or bugs.
T}
T{
\f[V]--use-english-language-names\f[R]
T}@T{
If your display freezes, exit blind with \[ha]C, then run again with
\f[V]--use-english-language-names\f[R].
This can happen when Monero prompts for a language displaying language
names in their natives alphabets.
T}
.TE
.SS Legacy
.PP
These options are either legacy or rarely useful.
.PP
.TS
tab(@);
l lx.
T{
Option
T}@T{
Description
T}
_
T{
\f[V]--non-deterministic\f[R]
T}@T{
Generate legacy non-deterministic wallet.
The view key will \f[B]not\f[R] be derived from the spend key.
You would also have to backup the \f[I].keys.
To restore non-deterministic wallet (standard address) use
\f[VI]--generate-from-keys\f[I].
To restore fully you will need the \f[R].keys file.
T}
T{
\f[V]--generate-from-keys <arg>\f[R]
T}@T{
Restore legacy non-deterministic wallet by providing both spend and view
keys and the standard address.
T}
T{
\f[V]--shared-ringdb-dir <arg>\f[R]
T}@T{
Set shared ring database path.
No longer
worthwhile (https://www.reddit.com/r/Monero/comments/9rtnpx/are_there_any_updated_blackball_databases/).
T}
T{
\f[V]--create-address-file\f[R]
T}@T{
Has no effect.
The \f[V]*.address.txt\f[R] file is created regardless of this option.
T}
T{
\f[V]--electrum-seed <arg>\f[R]
T}@T{
Provide mnemonic seed as a commandline option for
\f[V]--restore-deterministic-wallet\f[R] instead of interactively.
This is not recommended b/c the seed will be saved in your command
history and also visible in the process list.
T}
T{
\f[V]--generate-from-json <arg>\f[R]
T}@T{
You would run \f[V]monero-wallet-rpc\f[R] to use this option.
It seems exposed in \f[V]monero-wallet-cli\f[R] by accident.
T}
T{
\f[V]--tx-notify <arg>\f[R]
T}@T{
You would run \f[V]monero-wallet-rpc\f[R] to use this option.
It seems exposed in \f[V]monero-wallet-cli\f[R] by accident.
T}
.TE
.SH Defaults
.PP
Wallet files are created and seek in current directory.
This is rarely what you want.
Use \f[V]--wallet-file\f[R] and similar options to control this.
.PP
Log files are created in the same directory as
\f[V]monero-wallet-cli\f[R] binary.
Use \f[V]--log-file\f[R] to specify the location.
.SH Commands
.PP
Commands are used interactively in the \f[V]monero-wallet-cli\f[R]
prompt.
.PP
You can also run a one-off command by providing it as a commandline
parameter.
This is rarely useful though.
For automation prefer \f[V]monero-wallet-rpc\f[R].
.PP
The CLI wallet has \f[B]built-in help for individual commands\f[R] - we
will not attempt to reproduce that.
Instead we focus on grouping commands so you can quickly find what you
are looking for.
Use \f[V]help command_name\f[R] to learn more.
.SS Help and version
.PP
\f[V]help\f[R] - list all commands
.PP
\f[V]help command_name\f[R] - show help for individual command
.PP
\f[V]version\f[R] - show version of the monero-wallet-cli binary
.SS Network status
.PP
\f[V]status\f[R] - show if synced up to the blockchain height
.PP
\f[V]fee\f[R] - show current fee-per-byte and full node\[cq]s mempool
(the backlog of transactions depending on the priority)
.PP
\f[V]wallet_info\f[R] - show wallet file path, standard address, type
and network
.SS Balance
.PP
\f[V]account\f[R] - total balance; list accounts with respective
balances
.PP
\f[V]balance detail\f[R] - within the current account, list addresses
with respective balances
.PP
\f[V]refresh\f[R] - force refresh the balance and transactions by
pulling latest blocks from the full node; this is often useful because
auto-refresh only kicks in once in 90 seconds
.SS Manage accounts
.PP
\f[V]account\f[R]
.PP
\f[V]account new\f[R]
.PP
\f[V]account switch\f[R]
.PP
\f[V]account label\f[R]
.SS Manage addresses
.PP
\f[V]address all\f[R]
.PP
\f[V]address new\f[R]
.PP
\f[V]address label\f[R]
.SS View transactions
.PP
\f[V]show_transfers\f[R] - show all transactions on the current account;
optionally provide a filter: \f[V]in\f[R] | \f[V]out\f[R] |
\f[V]pending\f[R] | \f[V]failed\f[R] | \f[V]pool\f[R] |
\f[V]coinbase\f[R]; optionally provide subaddress index for output
selection
.PP
\f[V]show_transfer <txid>\f[R] - show details of specific transaction
.PP
\f[V]incoming_transfers [available|unavailable] [verbose] [index=<N1>[,<N2>[,...]]]\f[R]
- show the incoming transactions, all or filtered by availability and
address index within current account; this will only show confirmed
transactions; you will not see transactions awaiting in the mempool
.PP
\f[V]get_tx_note <txid>\f[R] - get a string note for transaction id
.PP
\f[V]export_transfers [in|out|all|pending|failed|pool|coinbase] [index=<N1>[,<N2>,...]] [<min_height> [<max_height>]] [output=<filepath>] [option=<with_keys>]\f[R]
- exports a list of all transfer information to a CSV file.
You can filter by type
\f[V][in|out|all|pending|failed|pool|coinbase]\f[R], by index, by
minimum and maximum block height, specify the output path for the CSV
file, and optionally include the tx private keys (if available) with the
export.
.SS Keys and Passwords
.SS Secret mnemonic seed
.PP
\f[V]seed\f[R] - show raw mnemonic seed
.PP
\f[V]encrypted_seed\f[R] - create mnemonic seed encrypted with the
passphrase; you will need to remember or store the passphrase
separately; restoring will not be possible without the passphrase
.SS Secret keys
.PP
\f[V]spendkey\f[R] - show secret spend key and public spend key
.PP
\f[V]viewkey\f[R] - show secret view key and public view key
.SS Wallet password
.PP
\f[V]password\f[R] - change wallet password; this password is used to
encrypt the local wallet files; it does not change secret keys or
backups
.SS Proofs
.PP
\f[V]get_reserve_proof\f[R] -> \f[V]check_reserve_proof\f[R] - prove the
balance
.PP
\f[V]get_spend_proof\f[R] -> \f[V]check_spend_proof\f[R] - prove you
made the payment
.PP
\f[V]sign <file>\f[R] ->
\f[V]verify <filename> <address> <signature>\f[R] - prove ownership of
the address; allows to verify the file was signed by the owner of
specific Monero address
.PP
\f[V]get_tx_proof\f[R] -> \f[V]check_tx_proof\f[R]
.SS Multisig
.SS Setup
.PP
\f[V]prepare_multisig\f[R]
.PP
\f[V]make_multisig\f[R]
.PP
\f[V]finalize_multisig\f[R]
.SS Update
.PP
\f[V]export_multisig_info\f[R]
.PP
\f[V]import_multisig_info\f[R]
.SS Other
.PP
\f[V]submit_multisig\f[R]
.PP
\f[V]exchange_multisig_keys\f[R]
.PP
\f[V]export_raw_multisig_tx\f[R]
.PP
\f[V]sign_multisig <filename>\f[R]
.SS Hardware wallet
.PP
\f[V]hw_reconnect\f[R] - attempts to reconnect HW wallet
.SS Mining
.PP
\f[V]start_mining\f[R]
.PP
\f[V]stop_mining\f[R]
.SS Advanced
.SS Outputs
.PP
\f[V]unspent_outputs\f[R] - show a list of, and a histogram of unspent
outputs (indivisible pieces of your total balance)
.PP
\f[V]export_outputs <file>\f[R] -> \f[V]import_outputs <file>\f[R] -
helps with cold spending; export outputs from a view-wallet to the
cold-wallet to make it aware of what had been sent to it
.PP
\f[V]mark_output_spent <amount>/<offset> | <filename> [add]\f[R] -
\[lq]blackball\[rq]/mark an output known to be spent, so that it will no
longer be selected as a decoy
.PP
\f[V]mark_output_unspent <amount>/<offset>\f[R] - unmark an output not
known to be spent, so that it will possibly be selected as a decoy
.PP
\f[V]is_output_spent <amount>/<offset>\f[R]
.SS Key images
.PP
\f[V]export_key_images <file>\f[R] -> \f[V]import_key_images <file>\f[R]
- used to inform the view-only wallet about outgoing transactions so it
can calculate the real balance; normally view-only wallets only learn
about incoming transactions, not outgoing
.SS Tx private key
.PP
These allow to learn and verify transaction\[cq]s private key
\f[V]r\f[R].
This was useful to create a proof of
payment (https://www.getmonero.org/resources/user-guides/prove-payment.html)
but got superseded by \f[V]get_spend_proof\f[R].
.PP
\f[V]get_tx_key <txid>\f[R]
.PP
\f[V]check_tx_key <txid> <txkey> <address>\f[R]
.PP
\f[V]set_tx_key <txid> <tx_key>\f[R]
.SS Debugging
.PP
\f[V]rescan_spent\f[R] - rescan the blockchain for spent outputs;
sometimes, the wallet\[cq]s idea of what outputs are spent and what
outputs are not get out of sync with the blockchain.
This can happen if you exit the wallet without saving after sending a
tx, or if it crashes.
This will look for the key images on the blockchain to make sure
it\[cq]s up to date.
.SS Cosmetics
.PP
\f[V]donate <amount>\f[R] - donate \f[V]<amount>\f[R] to development
team
.PP
\f[V]address_book [(add ((<address> [pid <id>])|<integrated address>) [<description possibly with whitespaces>])|(delete <index>)]\f[R]
.PP
\f[V]set_description [free text note]\f[R] -> \f[V]get_description\f[R]
- manage convenience description of the wallet (the information is
local)
.SS Legacy
.PP
\f[V]save\f[R] - this now happens automatically
.PP
\f[V]save_bc\f[R] - this now happens automatically
.PP
\f[V]bc_height\f[R] - show blockchain height (superseded with
\f[V]status\f[R])
.PP
\f[V]sweep_unmixable\f[R] - only relevant for very old wallets (<=
2016); send all unmixable outputs to yourself with ring_size 10
.PP
\f[V]locked_sweep_all\f[R] - see
.PP
\f[V]rescan_bc\f[R] - rescan the blockchain from scratch, losing any
information which can not be recovered from the blockchain itself
.PP
TODO: document remaining commands
.SH SEE ALSO
.PP
Link to full documentation at:
<https://monerodocs.org/interacting/monero-wallet-cli-reference/>
.PP
monero-wallet-rpc(1), monero-wallet-gui(1)
